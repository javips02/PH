


ARM Macro Assembler    Page 1 


    1 00000000 00000007 
                       NUM_FILAS
                               EQU              7
    2 00000000 00000007 
                       NUM_COLUMNAS
                               EQU              7
    3 00000000 00000006 
                       MAX_NO_CERO
                               EQU              6
    4 00000000 00000000 
                       EXITO   EQU              0x0
    5 00000000                 AREA             datos,DATA,READWRITE
    6 00000000         
    7 00000000                 AREA             prog,CODE,READONLY
    8 00000000                 ENTRY
    9 00000000                 IMPORT           tablero_buscar_color
   10 00000000                 EXPORT           conecta_K_buscar_alineamiento_a
rm
   11 00000000                 PRESERVE8        {TRUE}      ; solución temas de
                                                             alineamiento y dat
                                                            os que vienen de C
   12 00000000         
   13 00000000         conecta_K_buscar_alineamiento_arm
   14 00000000 E92D5FF0        stmdb            sp!, {r4-r10, fp, ip,lr}
   15 00000004 E1A04000        mov              r4, r0      ; r4=t
   16 00000008 E1A05001        mov              r5, r1      ; r5 = fila
   17 0000000C E1A06002        mov              r6, r2      ; r6 = columna
   18 00000010 E1A07003        mov              r7, r3      ; r7 = color
   19 00000014         ; empieza Tablero_buscar_color
   20 00000014 E3550007        cmp              r5, #NUM_FILAS ; comparo r5 con
                                                             munfilas para sabe
                                                            r si es incorrecto
   21 00000018 A3A00000        movge            r0, #0x00
   22 0000001C AA00001F        bge              final       ;
   23 00000020         
   24 00000020 E3560007        cmp              r6, #NUM_COLUMNAS ;comparo r5 c
                                                            on numColumnas para
                                                             saber si es incorr
                                                            ecto
   25 00000024 A3A00000        movge            r0, #0x00
   26 00000028 AA00001C        bge              final       ;
   27 0000002C         
   28 0000002C E3A0A000        mov              r10, #0     ; col = 0
   29 00000030         
   30 00000030 E35A0006 
                       for1    cmp              r10, #MAX_NO_CERO ; bucle que e
                                                            ncuentra la columna
                                                             de la ficha a anal
                                                            izar el color
   31 00000034 AA000005        bge              fuera
   32 00000038         
   33 00000038 E0850085        add              r0, r5, r5, LSL #1
   34 0000003C E0840080        add              r0, r4, r0, LSL #1
   35 00000040 E7D0100A        ldrb             r1, [r0, r10]
   36 00000044 E1510006        cmp              r1, r6
   37 00000048 128AA001        addne            r10, r10, #1
   38 0000004C 1AFFFFF7        bne              for1
   39 00000050         fuera
   40 00000050 E35A0006        cmp              r10, #MAX_NO_CERO



ARM Macro Assembler    Page 2 


   41 00000054 03A00000        moveq            r0, #0x00
   42 00000058 0A000010        beq              final       ;
   43 0000005C         
   44 0000005C E0851085        add              r1,r5, r5, LSL #1
   45 00000060 E284202A        add              r2, r4, #0x0000002a
   46 00000064 E0821081        add              r1, r2, r1, LSL #1
   47 00000068 E7D1000A        LDRB             r0, [r1, r10]
   48 0000006C E2000003        AND              r0, r0, #0x03 ; se compara el c
                                                            olor sacado  
   49 00000070 E1500007        cmp              r0, r7
   50 00000074 13A00000        movne            r0, #0x00
   51 00000078 1A000008        bne              final       ;
   52 0000007C         ;termina tablero_buscar_color
   53 0000007C         
   54 0000007C E89C0300        ldmia            ip, {r8,r9} ; cargamos los delt
                                                            as
   55 00000080 E0851008        add              r1, r5, r8  ; nueva fila
   56 00000084 E0862009        add              r2, r6, r9  ; nueva columna
   57 00000088 E92D0300        stmdb            sp!, {r8, r9} ; apilo deltas
   58 0000008C E1A00004        mov              r0, r4
   59 00000090 E1A03007        mov              r3, r7
   60 00000094 EBFFFFFE        bl               conecta_K_buscar_alineamiento_a
rm
   61 00000098 E28DD008        add              sp, sp, #8  ; libero pila
   62 0000009C E2800001        add              r0,r0, #0x01 ;  1 + la llamada 
                                                            recursiva
   63 000000A0 E8BD5FF0 
                       final   ldmia            sp!, {r4-r10, fp, ip,lr}
   64 000000A4 E1A0D00C        mov              sp, ip
   65 000000A8 E12FFF1E        bx               r14
   66 000000AC         
   67 000000AC                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta_k_buscar_alineamiento_arm.d -o.\objects\conecta_k_buscar_alineam
iento_arm.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_
v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION S
ETA 526" --list=.\listings\conecta_k_buscar_alineamiento_arm.lst conecta_K_busc
ar_alineamiento_arm.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

datos 00000000

Symbol: datos
   Definitions
      At line 5 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      None
Comment: datos unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

conecta_K_buscar_alineamiento_arm 00000000

Symbol: conecta_K_buscar_alineamiento_arm
   Definitions
      At line 13 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 10 in file conecta_K_buscar_alineamiento_arm.s
      At line 60 in file conecta_K_buscar_alineamiento_arm.s

final 000000A0

Symbol: final
   Definitions
      At line 63 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 22 in file conecta_K_buscar_alineamiento_arm.s
      At line 26 in file conecta_K_buscar_alineamiento_arm.s
      At line 42 in file conecta_K_buscar_alineamiento_arm.s
      At line 51 in file conecta_K_buscar_alineamiento_arm.s

for1 00000030

Symbol: for1
   Definitions
      At line 30 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 38 in file conecta_K_buscar_alineamiento_arm.s
Comment: for1 used once
fuera 00000050

Symbol: fuera
   Definitions
      At line 39 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 31 in file conecta_K_buscar_alineamiento_arm.s
Comment: fuera used once
prog 00000000

Symbol: prog
   Definitions
      At line 7 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      None
Comment: prog unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

EXITO 00000000

Symbol: EXITO
   Definitions
      At line 4 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      None
Comment: EXITO unused
MAX_NO_CERO 00000006

Symbol: MAX_NO_CERO
   Definitions
      At line 3 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 30 in file conecta_K_buscar_alineamiento_arm.s
      At line 40 in file conecta_K_buscar_alineamiento_arm.s

NUM_COLUMNAS 00000007

Symbol: NUM_COLUMNAS
   Definitions
      At line 2 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 24 in file conecta_K_buscar_alineamiento_arm.s
Comment: NUM_COLUMNAS used once
NUM_FILAS 00000007

Symbol: NUM_FILAS
   Definitions
      At line 1 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      At line 20 in file conecta_K_buscar_alineamiento_arm.s
Comment: NUM_FILAS used once
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

tablero_buscar_color 00000000

Symbol: tablero_buscar_color
   Definitions
      At line 9 in file conecta_K_buscar_alineamiento_arm.s
   Uses
      None
Comment: tablero_buscar_color unused
1 symbol
343 symbols in table
